(******************************************************************************)
(*                                                                            *)
(*                      INVERSION DE MD* VIA SAT SOLVEUR                      *)
(*                                                                            *)
(*                      Projet Logique 2016 - Partie SAT                      *)
(*   Auteur, license, etc.                                                    *)
(******************************************************************************)
		
open Param
open Printf
open Formula
open Data

(*** Main function ***)
let genCNF digest =
        let d = digest in
        let formula_list = ref [] in
        for i = 0 to 10 do                  
                formula_list := (Equiv ( Const d.(i),
                                        Xor (Xor (Const (d.(i+10)),
                                                  Lit(Pos( ((i*13) mod 512)+1 ))) ,
                                             Xor (Lit(Pos( ((i*14+1) mod 512)+1)) ,
                                                  Lit(Pos( ((i*15+2) mod 512)+1))) ))) ::(!formula_list);
        done;
        formula_list := (Or (Lit(Pos (512)),Lit(Neg (512))))::(!formula_list);
        Formula.formulaeToCnf(!formula_list)
;;
				(* TODO *)


